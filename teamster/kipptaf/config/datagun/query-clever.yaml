execution:
  config:
    multiprocess:
      max_concurrent: 6
resources:
  destination:
    config:
      remote_host:
        env: CLEVER_SFTP_HOST
      username:
        env: CLEVER_SFTP_USERNAME
      password:
        env: CLEVER_SFTP_PASSWORD
ops:
  compose_queries:
    config:        
      destination:
        name: clever
        type: sftp
      queries:
        - sql:
            schema:
              table: gabby.extracts.clever_enrollments
          file:
            stem: enrollments
            suffix: csv
        - sql:
            schema:
              table: gabby.extracts.clever_teachers
          file:
            stem: teachers
            suffix: csv
        - sql:
            schema:
              table: gabby.extracts.clever_students
          file:
            stem: students
            suffix: csv
        - sql:
            schema:
              table: gabby.extracts.clever_staff
          file:
            stem: staff
            suffix: csv
        - sql:
            schema:
              table: gabby.extracts.clever_sections
          file:
            stem: sections
            suffix: csv
        - sql:
            schema:
              table: gabby.extracts.clever_schools
          file:
            stem: schools
            suffix: csv
