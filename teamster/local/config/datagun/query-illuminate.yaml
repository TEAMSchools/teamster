execution:
  config:
    resources:
      limits:
        cpu: 250m
        memory: 0.5Gi
resources:
  destination:
    config:
      remote_host:
        env: ILLUMINATE_SFTP_HOST
      username:
        env: ILLUMINATE_SFTP_USERNAME
      password:
        env: ILLUMINATE_SFTP_PASSWORD
ops:
  compose_queries:
    config:
      destination:
        name: illuminate
        type: sftp
      queries:
        - sql:
            schema:
              table:
                name: "illuminate_courses"
                schema: "gabby.extracts"
          file:
            stem: courses
            suffix: txt
            format:
              sep: "\t"
        - sql:
            schema:
              table:
                name: "illuminate_enrollment"
                schema: "gabby.extracts"
          file:
            stem: enrollment
            suffix: txt
            format:
              sep: "\t"
        - sql:
            schema:
              table:
                name: "illuminate_mastschd"
                schema: "gabby.extracts"
          file:
            stem: mastschd
            suffix: txt
            format:
              sep: "\t"
        - sql:
            schema:
              table:
                name: "illuminate_roles"
                schema: "gabby.extracts"
          file:
            stem: roles
            suffix: txt
            format:
              sep: "\t"
        - sql:
            schema:
              table:
                name: "illuminate_roster"
                schema: "gabby.extracts"
          file:
            stem: roster
            suffix: txt
            format:
              sep: "\t"
        - sql:
            schema:
              table:
                name: "illuminate_users"
                schema: "gabby.extracts"
          file:
            stem: users
            suffix: txt
            format:
              sep: "\t"
        - sql:
            schema:
              table:
                name: "illuminate_terms"
                schema: "gabby.extracts"
          file:
            stem: terms
            suffix: txt
            format:
              sep: "\t"
        - sql:
            schema:
              table:
                name: "illuminate_student_portal_accounts"
                schema: "gabby.extracts"
          file:
            stem: student_portal_accounts
            suffix: txt
            format:
              sep: "\t"
        - sql:
            schema:
              table:
                name: "illuminate_studemo"
                schema: "gabby.extracts"
          file:
            stem: studemo
            suffix: txt
            format:
              sep: "\t"
        - sql:
            schema:
              table:
                name: "illuminate_sites"
                schema: "gabby.extracts"
          file:
            stem: sites
            suffix: txt
            format:
              sep: "\t"
