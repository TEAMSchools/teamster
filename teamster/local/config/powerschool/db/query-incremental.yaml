resources:
  db:
    config:
      prefetchrows: 100000
      arraysize: 100000
ops:
  compose_queries:
    config:
      destination:
        type: fs
      queries:
        - sql:
            schema:
              table:
                name: assignmentcategoryassoc
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: assignmentscore
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: assignmentsection
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: teachercategory
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: codeset
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: emailaddress
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: gradecalcformulaweight
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: gradecalcschoolassoc
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: gradecalculationtype
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: gradeformulaset
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: gradescaleitem
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: gradeschoolconfig
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: gradeschoolformulaassoc
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: gradesectionconfig
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: originalcontactmap
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: person
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: personaddress
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: personaddressassoc
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: personemailaddressassoc
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: personphonenumberassoc
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: phonenumber
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: roledef
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: s_nj_crs_x
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: s_nj_ren_x
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: s_nj_stu_x
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: s_nj_usr_x
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: studentcontactassoc
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: studentcontactdetail
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: studentcorefields
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: studentrace
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: u_clg_et_stu
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: u_clg_et_stu_alt
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: u_def_ext_students
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: u_studentsuserfields
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: districtteachercategory
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: schoolstaff
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: sectionteacher
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: users
              where: "whenmodified >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: sections
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: attendance
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: cc
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: courses
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: pgfinalgrades
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: prefs
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: schools
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: storedgrades
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: students
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: termbins
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        - sql:
            schema:
              table:
                name: terms
              where: "transaction_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
  execute_query:
    ops:
      extract:
        config:
          remote_port:
            env: PS_SSH_REMOTE_BIND_PORT
          remote_host:
            env: PS_SSH_REMOTE_BIND_HOST
          local_port:
            env: PS_DB_PORT
