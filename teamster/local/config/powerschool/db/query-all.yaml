execution:
  config:
    resources:
      limits:
        cpu: 750m
        memory: 1.0Gi
ops:
  attendance:
    config:
      destination:
        type: file
      query:
        sql:
          schema:
            table:
              name: attendance
            where: "transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        output_fmt: file
        partition_size: 100000
  log:
    config:
      destination:
        type: file
      query:
        sql:
          schema:
            table:
              name: log
        output_fmt: file
        partition_size: 100000
  assignmentscore:
    config:
      destination:
        type: file
      query:
        sql:
          schema:
            table:
              name: assignmentscore
            where: "whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        output_fmt: file
        partition_size: 100000
  pgfinalgrades:
    config:
      destination:
        type: file
      query:
        sql:
          schema:
            table:
              name: pgfinalgrades
            where: "transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        output_fmt: file
        partition_size: 100000
  storedgrades:
    config:
      destination:
        type: file
      query:
        sql:
          schema:
            table:
              name: storedgrades
            where: "transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD HH24:MI:SSTZH:TZM')"
        output_fmt: file
        partition_size: 100000
