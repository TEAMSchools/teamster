execution:
  config:
    resources:
      limits:
        cpu: 750m
        memory: 1.0Gi
    max_concurrent: 50
ops:
  # no filter
  attendance_code:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: attendance_code
  attendance_conversion_items:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: attendance_conversion_items
  bell_schedule:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: bell_schedule
  calendar_day:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: calendar_day
  cycle_day:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: cycle_day
  fte:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: fte
  gen:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: gen
  period:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: period
  reenrollments:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: reenrollments
  spenrollments:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: spenrollments
  test:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: test
  testscore:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: testscore
  # table-specific filter
  log:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: log
          where: entry_date >= TO_TIMESTAMP_TZ('{today}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  # transaction_date
  cc:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: cc
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  courses:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: courses
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  prefs:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: prefs
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  storedgrades:
    config:
      sql:
        schema:
          table:
            name: storedgrades
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
      partition_size: 100000
  sections:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: sections
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  schools:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: schools
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  students:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: students
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  termbins:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: termbins
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  terms:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: terms
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  # whenmodified
  assignmentcategoryassoc:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: assignmentcategoryassoc
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  assignmentsection:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: assignmentsection
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  codeset:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: codeset
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  districtteachercategory:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: districtteachercategory
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  emailaddress:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: emailaddress
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  gradecalcformulaweight:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: gradecalcformulaweight
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  gradecalcschoolassoc:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: gradecalcschoolassoc
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  gradecalculationtype:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: gradecalculationtype
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  gradeformulaset:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: gradeformulaset
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  gradescaleitem:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: gradescaleitem
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  gradeschoolconfig:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: gradeschoolconfig
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  gradeschoolformulaassoc:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: gradeschoolformulaassoc
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  gradesectionconfig:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: gradesectionconfig
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  originalcontactmap:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: originalcontactmap
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  person:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: person
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  personaddress:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: personaddress
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  personaddressassoc:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: personaddressassoc
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  personemailaddressassoc:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: personemailaddressassoc
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  personphonenumberassoc:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: personphonenumberassoc
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  phonenumber:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: phonenumber
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  roledef:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: roledef
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  schoolstaff:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: schoolstaff
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  sectionteacher:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: sectionteacher
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  studentcontactassoc:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: studentcontactassoc
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  studentcontactdetail:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: studentcontactdetail
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  studentcorefields:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: studentcorefields
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  studentrace:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: studentrace
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  teachercategory:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: teachercategory
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  users:
    config:
      partition_size: 100000
      sql:
        schema:
          table:
            name: users
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  # pgfinalgrades
  pgfinalgrades_S01:
    config:
      sql:
        schema:
          table:
            name: pgfinalgrades
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
      partition_size: 100000
  pgfinalgrades_R01:
    config:
      sql:
        schema:
          table:
            name: pgfinalgrades
          where: dcid BETWEEN 0 AND 999999
      partition_size: 100000
  pgfinalgrades_R02:
    config:
      sql:
        schema:
          table:
            name: pgfinalgrades
          where: dcid BETWEEN 1000000 AND 1999999
      partition_size: 100000
  pgfinalgrades_R03:
    config:
      sql:
        schema:
          table:
            name: pgfinalgrades
          where: dcid BETWEEN 2000000 AND 2999999
      partition_size: 100000
  # attendance
  attendance_S01:
    config:
      sql:
        schema:
          table:
            name: attendance
          where: transaction_date >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
      partition_size: 100000
  attendance_R01:
    config:
      sql:
        schema:
          table:
            name: attendance
          where: dcid BETWEEN 0 AND 999999
      partition_size: 100000
  attendance_R02:
    config:
      sql:
        schema:
          table:
            name: attendance
          where: dcid BETWEEN 1000000 AND 1999999
      partition_size: 100000
  attendance_R03:
    config:
      sql:
        schema:
          table:
            name: attendance
          where: dcid BETWEEN 2000000 AND 2999999
      partition_size: 100000
  attendance_R04:
    config:
      sql:
        schema:
          table:
            name: attendance
          where: dcid BETWEEN 3000000 AND 3999999
      partition_size: 100000
  # assignmentscore
  assignmentscore_S01:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
      partition_size: 100000
  assignmentscore_R01:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: assignmentscoreid BETWEEN 0 AND 999999
      partition_size: 100000
  assignmentscore_R02:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: assignmentscoreid BETWEEN 1000000 AND 1999999
      partition_size: 100000
  assignmentscore_R03:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: assignmentscoreid BETWEEN 2000000 AND 2999999
      partition_size: 100000
  assignmentscore_R04:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: assignmentscoreid BETWEEN 3000000 AND 3999999
      partition_size: 100000
  assignmentscore_R05:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: assignmentscoreid BETWEEN 4000000 AND 4999999
      partition_size: 100000
  assignmentscore_R06:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: assignmentscoreid BETWEEN 5000000 AND 5999999
      partition_size: 100000
  assignmentscore_R07:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: assignmentscoreid BETWEEN 6000000 AND 6999999
      partition_size: 100000
  assignmentscore_R08:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: assignmentscoreid BETWEEN 7000000 AND 7999999
      partition_size: 100000
  assignmentscore_R09:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: assignmentscoreid BETWEEN 8000000 AND 8999999
      partition_size: 100000
  assignmentscore_R10:
    config:
      sql:
        schema:
          table:
            name: assignmentscore
          where: assignmentscoreid BETWEEN 9000000 AND 9999999
      partition_size: 100000
  # # extensions
  # s_nj_crs_x:
  #   config:
  #     destination:
  #       type: file
  #
  #
  #       partition_size: 100000
  #       sql:
  #         schema:
  #           table:
  #             name: s_nj_crs_x
  #           where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  # s_nj_ren_x:
  #   config:
  #     destination:
  #       type: file
  #
  #
  #       partition_size: 100000
  #       sql:
  #         schema:
  #           table:
  #             name: s_nj_ren_x
  #           where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  # s_nj_stu_x:
  #   config:
  #     destination:
  #       type: file
  #
  #
  #       partition_size: 100000
  #       sql:
  #         schema:
  #           table:
  #             name: s_nj_stu_x
  #           where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  # s_nj_usr_x:
  #   config:
  #     destination:
  #       type: file
  #
  #
  #       partition_size: 100000
  #       sql:
  #         schema:
  #           table:
  #             name: s_nj_usr_x
  #           where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  # u_clg_et_stu:
  #   config:
  #     destination:
  #       type: file
  #
  #
  #       partition_size: 100000
  #       sql:
  #         schema:
  #           table:
  #             name: u_clg_et_stu
  #           where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  # u_clg_et_stu_alt:
  #   config:
  #     destination:
  #       type: file
  #
  #
  #       partition_size: 100000
  #       sql:
  #         schema:
  #           table:
  #             name: u_clg_et_stu_alt
  #           where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  # u_def_ext_students:
  #   config:
  #     destination:
  #       type: file
  #
  #
  #       partition_size: 100000
  #       sql:
  #         schema:
  #           table:
  #             name: u_def_ext_students
  #           where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
  # u_studentsuserfields:
  #   config:
  #     destination:
  #       type: file
  #
  #
  #       partition_size: 100000
  #       sql:
  #         schema:
  #           table:
  #             name: u_studentsuserfields
  #           where: whenmodified >= TO_TIMESTAMP_TZ('{last_run}', 'YYYY-MM-DD"T"HH24:MI:SSTZH:TZM')
