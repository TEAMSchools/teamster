models:
  - name: int_extracts__student_enrollments
    config:
      materialized: table
      schema: extracts
    data_tests:
      - dbt_utils.unique_combination_of_columns:
          arguments:
            combination_of_columns:
              - _dbt_source_relation
              - student_number
              - academic_year
              - entrydate
          config:
            store_failures: true
            # severity: warn
    columns:
      - name: _dbt_source_relation
        data_type: string
      - name: studentid
        data_type: int64
      - name: students_dcid
        data_type: int64
      - name: student_number
        data_type: int64
      - name: reenrollments_dcid
        data_type: int64
      - name: grade_level
        data_type: int64
      - name: schoolid
        data_type: int64
      - name: entrydate
        data_type: date
      - name: exitdate
        data_type: date
      - name: entrycode
        data_type: string
      - name: exitcode
        data_type: string
      - name: exitcomment
        data_type: string
      - name: fteid
        data_type: int64
      - name: enroll_status
        data_type: int64
      - name: dob
        data_type: date
      - name: street
        data_type: string
      - name: city
        data_type: string
      - name: zip
        data_type: string
      - name: home_phone
        data_type: string
      - name: fedethnicity
        data_type: int64
      - name: next_school
        data_type: int64
      - name: sched_nextyeargrade
        data_type: int64
      - name: highest_grade_level_achieved
        data_type: int64
      - name: gender
        data_type: string
      - name: ethnicity
        data_type: string
      - name: yearid
        data_type: int64
      - name: academic_year
        data_type: int64
      - name: track
        data_type: string
      - name: cohort_primary
        data_type: int64
      - name: rn_all
        data_type: int64
      - name: rn_year
        data_type: int64
      - name: rn_school
        data_type: int64
      - name: grade_level_prev
        data_type: int64
      - name: yearid_prev
        data_type: int64
      - name: rn_undergrad
        data_type: int64
      - name: year_in_school
        data_type: int64
      - name: year_in_network
        data_type: int64
      - name: is_enrolled_y1
        data_type: boolean
      - name: is_enrolled_oct01
        data_type: boolean
      - name: is_enrolled_oct15
        data_type: boolean
      - name: is_enrolled_recent
        data_type: boolean
      - name: is_retained_year
        data_type: boolean
      - name: cohort_graduated
        data_type: int64
      - name: is_retained_ever
        data_type: boolean
      - name: boy_status
        data_type: string
      - name: cohort_secondary
        data_type: int64
      - name: entry_schoolid
        data_type: int64
      - name: entry_grade_level
        data_type: int64
      - name: school_name
        data_type: string
      - name: school_phone
        data_type: string
      - name: school_principal
        data_type: string
      - name: school_assistant_principal
        data_type: string
      - name: is_homeless
        data_type: boolean
      - name: advisory_name
        data_type: string
      - name: advisor_teachernumber
        data_type: string
      - name: advisor_lastfirst
        data_type: string
      - name: contact_1_address_home
        data_type: string
      - name: contact_1_email_current
        data_type: string
      - name: contact_1_name
        data_type: string
      - name: contact_1_phone_daytime
        data_type: string
      - name: contact_1_phone_home
        data_type: string
      - name: contact_1_phone_mobile
        data_type: string
      - name: contact_1_phone_primary
        data_type: string
      - name: contact_1_phone_work
        data_type: string
      - name: contact_1_relationship
        data_type: string
      - name: contact_2_address_home
        data_type: string
      - name: contact_2_email_current
        data_type: string
      - name: contact_2_name
        data_type: string
      - name: contact_2_phone_daytime
        data_type: string
      - name: contact_2_phone_home
        data_type: string
      - name: contact_2_phone_mobile
        data_type: string
      - name: contact_2_phone_primary
        data_type: string
      - name: contact_2_phone_work
        data_type: string
      - name: contact_2_relationship
        data_type: string
      - name: emergency_1_address_home
        data_type: string
      - name: emergency_1_email_current
        data_type: string
      - name: emergency_1_name
        data_type: string
      - name: emergency_1_phone_daytime
        data_type: string
      - name: emergency_1_phone_home
        data_type: string
      - name: emergency_1_phone_mobile
        data_type: string
      - name: emergency_1_phone_primary
        data_type: string
      - name: emergency_1_phone_work
        data_type: string
      - name: emergency_1_relationship
        data_type: string
      - name: emergency_2_address_home
        data_type: string
      - name: emergency_2_email_current
        data_type: string
      - name: emergency_2_name
        data_type: string
      - name: emergency_2_phone_daytime
        data_type: string
      - name: emergency_2_phone_home
        data_type: string
      - name: emergency_2_phone_mobile
        data_type: string
      - name: emergency_2_phone_primary
        data_type: string
      - name: emergency_2_phone_work
        data_type: string
      - name: emergency_2_relationship
        data_type: string
      - name: emergency_3_address_home
        data_type: string
      - name: emergency_3_email_current
        data_type: string
      - name: emergency_3_name
        data_type: string
      - name: emergency_3_phone_daytime
        data_type: string
      - name: emergency_3_phone_home
        data_type: string
      - name: emergency_3_phone_mobile
        data_type: string
      - name: emergency_3_phone_primary
        data_type: string
      - name: emergency_3_phone_work
        data_type: string
      - name: emergency_3_relationship
        data_type: string
      - name: pickup_1_address_home
        data_type: string
      - name: pickup_1_email_current
        data_type: string
      - name: pickup_1_name
        data_type: string
      - name: pickup_1_phone_daytime
        data_type: string
      - name: pickup_1_phone_home
        data_type: string
      - name: pickup_1_phone_mobile
        data_type: string
      - name: pickup_1_phone_primary
        data_type: string
      - name: pickup_1_phone_work
        data_type: string
      - name: pickup_1_relationship
        data_type: string
      - name: pickup_2_address_home
        data_type: string
      - name: pickup_2_email_current
        data_type: string
      - name: pickup_2_name
        data_type: string
      - name: pickup_2_phone_daytime
        data_type: string
      - name: pickup_2_phone_home
        data_type: string
      - name: pickup_2_phone_mobile
        data_type: string
      - name: pickup_2_phone_primary
        data_type: string
      - name: pickup_2_phone_work
        data_type: string
      - name: pickup_2_relationship
        data_type: string
      - name: pickup_3_address_home
        data_type: string
      - name: pickup_3_email_current
        data_type: string
      - name: pickup_3_name
        data_type: string
      - name: pickup_3_phone_daytime
        data_type: string
      - name: pickup_3_phone_home
        data_type: string
      - name: pickup_3_phone_mobile
        data_type: string
      - name: pickup_3_phone_primary
        data_type: string
      - name: pickup_3_phone_work
        data_type: string
      - name: pickup_3_relationship
        data_type: string
      - name: exit_code_kf
        data_type: string
      - name: exit_code_ts
        data_type: string
      - name: is_self_contained
        data_type: boolean
      - name: is_out_of_district
        data_type: boolean
      - name: reporting_schoolid
        data_type: int64
      - name: reporting_school_name
        data_type: string
      - name: school_level
        data_type: string
      - name: cohort
        data_type: int64
      - name: code_location
        data_type: string
      - name: region
        data_type: string
      - name: fleid
        data_type: string
      - name: newark_enrollment_number
        data_type: string
      - name: infosnap_id
        data_type: string
      - name: infosnap_opt_in
        data_type: string
      - name: media_release
        data_type: string
      - name: rides_staff
        data_type: string
      - name: districtcoderesident
        data_type: string
      - name: referral_date
        data_type: date
      - name: parental_consent_eval_date
        data_type: date
      - name: eligibility_determ_date
        data_type: date
      - name: initial_iep_meeting_date
        data_type: date
      - name: parent_consent_intial_iep_date
        data_type: date
      - name: annual_iep_review_meeting_date
        data_type: date
      - name: reevaluation_date
        data_type: date
      - name: parent_consent_obtain_code
        data_type: string
      - name: initial_process_delay_reason
        data_type: string
      - name: special_education_placement
        data_type: string
      - name: time_in_regular_program
        data_type: string
      - name: early_intervention_yn
        data_type: string
      - name: determined_ineligible_yn
        data_type: string
      - name: counseling_services_yn
        data_type: string
      - name: occupational_therapy_serv_yn
        data_type: string
      - name: physical_therapy_services_yn
        data_type: string
      - name: speech_lang_theapy_services_yn
        data_type: string
      - name: other_related_services_yn
        data_type: string
      - name: lepbegindate
        data_type: date
      - name: lependdate
        data_type: date
      - name: lep_tf
        data_type: int64
      - name: liep_parent_refusal_date
        data_type: date
      - name: programtypecode
        data_type: string
      - name: home_language
        data_type: string
      - name: advisor_email
        data_type: string
      - name: advisor_phone
        data_type: string
      - name: lunch_balance
        data_type: numeric
      - name: salesforce_contact_kipp_hs_class
        data_type: int64
      - name: salesforce_contact_owner_id
        data_type: string
      - name: graduation_year
        data_type: int64
      - name: salesforce_contact_owner_phone
        data_type: string
      - name: salesforce_contact_owner_email
        data_type: string
      - name: illuminate_student_id
        data_type: int64
      - name: gifted_and_talented
        data_type: string
      - name: is_504
        data_type: boolean
      - name: ktc_cohort
        data_type: int64
      - name: student_web_id
        data_type: string
      - name: student_web_password
        data_type: string
      - name: is_fldoe_fte_2
        data_type: boolean
      - name: is_fldoe_fte_3
        data_type: boolean
      - name: is_fldoe_fte_all
        data_type: boolean
      - name: special_education_code
        data_type: string
      - name: spedlep
        data_type: string
      - name: lep_status
        data_type: boolean
      - name: lunch_status
        data_type: string
      - name: lunch_application_status
        data_type: string
      - name: salesforce_graduation_year
        data_type: int64
      - name: student_name
        data_type: string
      - name: student_last_name
        data_type: string
      - name: student_first_name
        data_type: string
      - name: student_middle_name
        data_type: string
      - name: school
        data_type: string
      - name: team
        data_type: string
      - name: student_email
        data_type: string
      - name: salesforce_id
        data_type: string
      - name: has_fafsa
        data_type: string
      - name: college_match_gpa
        data_type: numeric
      - name: college_match_gpa_bands
        data_type: string
      - name: contact_owner_name
        data_type: string
      - name: region_official_name
        data_type: string
      - name: deanslist_school_id
        data_type: int64
      - name: ms_attended
        data_type: string
      - name: es_attended
        data_type: string
      - name: es_graduated
        data_type: string
      - name: territory
        data_type: string
      - name: home_instruction_enter_date
        data_type: date
      - name: home_instruction_exit_date
        data_type: date
      - name: home_instruction_sp_comment
        data_type: string
      - name: hos
        data_type: string
      - name: school_leader
        data_type: string
      - name: school_leader_tableau_username
        data_type: string
      - name: best_guess_pathway
        data_type: string
      - name: ada_unweighted_term_q1
        data_type: float64
      - name: ada_unweighted_semester_s1
        data_type: float64
      - name: unweighted_ada
        data_type: float64
      - name: ada_weighted_term_q1
        data_type: float64
      - name: ada_weighted_semester_s1
        data_type: float64
      - name: weighted_ada
        data_type: float64
      - name: absences_unexcused_year
        data_type: float64
      - name: ada_unweighted_year_prev
        data_type: float64
      - name: ada_weighted_year_prev
        data_type: float64
      - name: cumulative_y1_gpa
        data_type: float64
        data_tests:
          - not_null:
              config:
                where:
                  (current_date( '{{ var("local_timezone") }}' ) between date({{
                  var("current_academic_year") }}, 10, 15) and date( {{
                  var("current_academic_year") + 1 }}, 06, 15 )) and
                  enroll_status = 0 and ((grade_level = 9 and year_in_network >
                  1) or grade_level >= 10)
      - name: cumulative_y1_gpa_unweighted
        data_type: float64
      - name: cumulative_y1_gpa_projected
        data_type: float64
      - name: cumulative_y1_gpa_projected_s1
        data_type: float64
      - name: cumulative_y1_gpa_projected_s1_unweighted
        data_type: float64
      - name: core_cumulative_y1_gpa
        data_type: float64
      - name: earned_credits_cum
        data_type: float64
      - name: earned_credits_cum_projected
        data_type: float64
      - name: potential_credits_cum
        data_type: float64
      - name: next_year_school
        data_type: string
      - name: next_year_schoolid
        data_type: int64
      - name: district
        data_type: string
      - name: region_school_level
        data_type: string
      - name: guardian_email
        data_type: string
      - name: academic_year_display
        data_type: string
      - name: overgrad_fafsa_opt_out
        data_type: string
      - name: grad_iep_exempt_status_overall
        data_type: string
        data_tests:
          - accepted_values:
              arguments:
                values:
                  - Not Grad IEP Exempt
                  - "Yes"
              config:
                severity: warn
                store_failures: true
      - name: iep_status
        data_type: string
      - name: ml_status
        data_type: string
      - name: status_504
        data_type: string
      - name: self_contained_status
        data_type: string
      - name: state_studentnumber
        data_type: string
      - name: secondary_state_studentnumber
        data_type: string
      - name: ada
        data_type: float64
      - name: met_fafsa_requirement
        data_type: boolean
      - name: is_counseling_services
        data_type: int64
      - name: is_student_athlete
        data_type: int64
      - name: is_tutoring
        data_type: boolean
      - name: is_sipps
        data_type: boolean
      - name: race_ethnicity
        data_type: string
      - name: school_level_alt
        data_type: string
      - name: advisory
        data_type: string
      - name: state
        data_type: string
      - name: ada_above_or_at_80
        data_type: boolean
      - name: fafsa_status_mismatch_category
        data_type: string
        data_tests:
          - accepted_values:
              arguments:
                values:
                  - No issues
                config:
                  severity: warn
                  store_failures: true
