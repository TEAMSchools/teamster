version: 2
models:
  - name: rpt_tableau__seat_tracker
    columns:
      - name: academic_year
        data_type: int64
      - name: adp_dept
        data_type: string
      - name: adp_location
        data_type: string
      - name: job_title
        data_type: string
      - name: entity
        data_type: string
      - name: grade_band
        data_type: string
      - name: location
        data_type: string
      - name: plan_status
        data_type: string
      - name: staffing_status
        data_type: string
      - name: status_detail
        data_type: string
      - name: staffing_model_id
        data_type: string
      - name: recruiter
        data_type: string
      - name: recruiter_manager
        data_type: string
      - name: teammate
        data_type: string
      - name: open
        data_type: int64
      - name: new_hire
        data_type: int64
      - name: staffed
        data_type: int64
      - name: active
        data_type: int64
      - name: mid_year_hire
        data_type: int64

semantic_models:
  - name: seat_tracker
    description: "Counts of seats by status in Seat Tracker App"
    model: ref('rpt_tableau__seat_tracker')
    defaults:
      agg_time_dimension: academic_year

    entities:
      - name: surrogate_key
        type: primary
    
    dimensions:
      - name: academic_year
        type: categorical
      - name: adp_location
        type: categorical
      - name: entity
        type: categorical
      - name: grade_band
        type: categorical
      - name: recruiter
        type: categorical
    
    measures: 
    - name: seats
      description: "Number of seats"
      agg: count
      create_metric: true
      expr: surrogate_key



      