locations:
  - location_name: kippcamden
    code_source:
      module_name: teamster.kippcamden.definitions
    build:
      directory: ./
      registry: us-central1-docker.pkg.dev/teamster-332318/teamster-kippcamden/teamster-kippcamden
    working_directory: /root/app
    container_context:
      k8s:
        volume_mounts:
          - name: secret-volume
            readOnly: true
            mountPath: /etc/secret-volume
        volumes:
          - name: secret-volume
            projected:
              sources:
                - secret:
                    name: op-gcp-service-account-dbt
                    items:
                      - key: dbt_user_credentials.json
                        path: dbt_user_creds_json
                - secret:
                    name: op-deanslist-api
                    items:
                      - key: deanslist_api_key_map.yaml
                        path: deanslist_api_key_map_yaml
        server_k8s_config:
          container_config:
            resources:
              requests:
                cpu: 250m
              limits:
                cpu: 250m
            env:
              - name: COUCHDROP_SFTP_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: op-couchdrop-sftp
                    key: password
              - name: COUCHDROP_SFTP_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: op-couchdrop-sftp
                    key: username
              - name: EDPLAN_SFTP_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: op-edplan-sftp-kippcamden
                    key: password
              - name: EDPLAN_SFTP_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: op-edplan-sftp-kippcamden
                    key: username
              - name: PS_DB_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: op-ps-db-kippcamden
                    key: password
              - name: PS_SSH_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: op-ps-ssh-kippcamden
                    key: password
              - name: PS_SSH_PORT
                valueFrom:
                  secretKeyRef:
                    name: op-ps-ssh-kippcamden
                    key: port
              - name: PS_SSH_REMOTE_BIND_HOST
                valueFrom:
                  secretKeyRef:
                    name: op-ps-ssh-kippcamden
                    key: remote-bind-host
              - name: PS_SSH_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: op-ps-ssh-kippcamden
                    key: username
              - name: TITAN_SFTP_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: op-titan-sftp-kippcamden
                    key: password
              - name: TITAN_SFTP_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: op-titan-sftp-kippcamden
                    key: username
        run_k8s_config:
          container_config:
            env:
              - name: COUCHDROP_SFTP_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: op-couchdrop-sftp
                    key: password
              - name: COUCHDROP_SFTP_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: op-couchdrop-sftp
                    key: username
              - name: EDPLAN_SFTP_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: op-edplan-sftp-kippcamden
                    key: password
              - name: EDPLAN_SFTP_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: op-edplan-sftp-kippcamden
                    key: username
              - name: PS_DB_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: op-ps-db-kippcamden
                    key: password
              - name: PS_SSH_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: op-ps-ssh-kippcamden
                    key: password
              - name: PS_SSH_PORT
                valueFrom:
                  secretKeyRef:
                    name: op-ps-ssh-kippcamden
                    key: port
              - name: PS_SSH_REMOTE_BIND_HOST
                valueFrom:
                  secretKeyRef:
                    name: op-ps-ssh-kippcamden
                    key: remote-bind-host
              - name: PS_SSH_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: op-ps-ssh-kippcamden
                    key: username
              - name: TITAN_SFTP_PASSWORD
                valueFrom:
                  secretKeyRef:
                    name: op-titan-sftp-kippcamden
                    key: password
              - name: TITAN_SFTP_USERNAME
                valueFrom:
                  secretKeyRef:
                    name: op-titan-sftp-kippcamden
                    key: username
